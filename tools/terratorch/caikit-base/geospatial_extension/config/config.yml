# Â© Copyright IBM Corporation 2025
# SPDX-License-Identifier: Apache-2.0


# Base path for all extensions; your extension name will be os.path.joined() onto this URL
# to make the full artifactory path that we will query for models, and so on.
# artifactory_base_path: https://na.artifactory.swg-devops.com/artifactory/api/storage/wcp-nlu-team-wnlp-extensions-models-generic-local

runtime:
  # The runtime library (or libraries) whose models we want to serve using Caikit Runtime. This should
  # be a snake case string, e.g., caikit_nlp or caikit_cv.
  library: geospatial_extension
  local_models_dir: models

  # Service exposure options
  port: 8085
  unix_socket_path: /tmp/mmesh/grpc.sock
  find_available_port: True
  tls:
      server:
          key: /app/output/tls/tls.key
          cert: /app/output/tls/tls.crt
# Configuration for the grpc server
  grpc:
      enabled: true
      port: 8085
      # Number of workers with which we will run the gRPC server
      server_thread_pool_size: 5
      # gRPC Server shutdown grace period
      # the server shuts down immediately when stopped,
      # and all RPCs active at the end of the grace period are aborted
      server_shutdown_grace_period_seconds: 45
      # Listen on a unix socket (model mesh feature)
      unix_socket_path: /tmp/mmesh/grpc.sock

  # Configuration for the http server
  http:
      enabled: false
      port: 8080
      # String prefix for API routes
      route_prefix: api/v1
      # Maximum number of seconds to wait for graceful shutdown
      server_shutdown_grace_period_seconds: 5

  # Configuration for the metrics server
  metrics:
      enabled: true
      port: 8086